<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue3 演示 - PopupChatKit 集成</title>
    
    <!-- 引入 Vue3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        #app {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 40px;
            border-radius: 16px 16px 0 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #667eea;
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header .meta {
            color: #666;
            font-size: 14px;
            display: flex;
            gap: 20px;
        }

        .header .meta span {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .content {
            background: white;
            padding: 40px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .article {
            margin-bottom: 40px;
        }

        .article h2 {
            color: #333;
            font-size: 28px;
            margin: 30px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .article h3 {
            color: #555;
            font-size: 22px;
            margin: 25px 0 12px 0;
        }

        .article p {
            margin-bottom: 15px;
            text-align: justify;
            color: #555;
        }

        .article ul, .article ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        .article li {
            margin: 8px 0;
            color: #555;
        }

        .highlight-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #f59e0b;
            margin: 20px 0;
        }

        .info-box {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
            margin: 20px 0;
        }

        .code-box {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }

        .footer {
            background: white;
            padding: 30px 40px;
            border-radius: 0 0 16px 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            color: #666;
        }

        .tag {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .tags {
            margin-top: 20px;
        }

        .demo-banner {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 20px;
            border: 2px solid #3b82f6;
        }

        .demo-banner h3 {
            color: #0369a1;
            margin-bottom: 10px;
        }

        .demo-banner p {
            color: #0c4a6e;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- 演示横幅 -->
        <div class="demo-banner">
            <h3>🎉 PopupChatKit 演示页面</h3>
            <p>点击右下角的聊天按钮,体验智能 AI 助手!<br>
            试试选中文字、搜索内容、复制网页等功能!</p>
        </div>

        <!-- 头部 -->
        <div class="header">
            <h1>{{ article.title }}</h1>
            <div class="meta">
                <span>📅 {{ article.date }}</span>
                <span>👤 {{ article.author }}</span>
                <span>👁️ {{ article.views }} 阅读</span>
            </div>
            <div class="tags">
                <span v-for="tag in article.tags" :key="tag" class="tag">{{ tag }}</span>
            </div>
        </div>

        <!-- 内容 -->
        <div class="content">
            <div class="article">
                <!-- 简介 -->
                <p style="font-size: 18px; font-weight: 500; color: #667eea;">
                    {{ article.summary }}
                </p>

                <!-- 第一部分 -->
                <h2>一、什么是 AI 智能对话？</h2>
                <p>
                    人工智能对话系统是一种能够理解和生成自然语言的计算机程序。它通过深度学习技术，
                    特别是大型语言模型（LLM），能够与人类进行流畅的对话交互。这项技术已经广泛应用于
                    客服系统、智能助手、教育辅导等多个领域。
                </p>

                <div class="highlight-box">
                    <strong>💡 核心技术：</strong> 大型语言模型通过在海量文本数据上训练，学习语言的
                    模式和规律，从而能够理解上下文、生成连贯的回复，甚至完成复杂的任务。
                </div>

                <h3>1.1 技术演进历程</h3>
                <ul>
                    <li><strong>第一代（规则基础）</strong>：基于预定义规则和关键词匹配</li>
                    <li><strong>第二代（统计模型）</strong>：使用传统机器学习方法</li>
                    <li><strong>第三代（深度学习）</strong>：采用 RNN、LSTM 等神经网络</li>
                    <li><strong>第四代（Transformer）</strong>：GPT、BERT 等大模型时代</li>
                </ul>

                <!-- 第二部分 -->
                <h2>二、PopupChatKit 的技术架构</h2>
                <p>
                    PopupChatKit 是一个轻量级的 AI 聊天插件，采用现代 Web 技术栈构建。
                    它的设计理念是"零依赖、易集成、高性能"，让任何网站都能快速拥有智能对话能力。
                </p>

                <h3>2.1 前端架构</h3>
                <div class="code-box">
                    // 纯原生 JavaScript 实现<br>
                    // IIFE 模式避免全局污染<br>
                    (function(window) {<br>
                    &nbsp;&nbsp;const PopupChatKit = {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;init: function(options) { ... },<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;sendMessage: async function() { ... }<br>
                    &nbsp;&nbsp;};<br>
                    &nbsp;&nbsp;window.PopupChatKit = PopupChatKit;<br>
                    })(window);
                </div>

                <div class="info-box">
                    <strong>🔧 技术选型：</strong>
                    <ul style="margin-top: 10px;">
                        <li>纯原生 JavaScript - 无需构建工具</li>
                        <li>Fetch API + ReadableStream - 流式响应</li>
                        <li>DOM 操作 - 动态内容渲染</li>
                        <li>CSS3 动画 - 流畅的交互体验</li>
                    </ul>
                </div>

                <h3>2.2 后端架构</h3>
                <p>
                    后端采用 FastAPI + pydantic-ai 构建，提供高性能的 API 服务。
                    使用智谱 AI 的 glm-4-flashx 模型，支持流式对话、图片生成、
                    视觉分析等多种功能。
                </p>

                <!-- 第三部分 -->
                <h2>三、核心功能详解</h2>

                <h3>3.1 智能对话</h3>
                <p>
                    基于大语言模型的对话系统，能够理解上下文、记忆历史对话、
                    提供准确的回答。支持连续多轮对话，维护完整的会话上下文。
                </p>

                <h3>3.2 网页总结</h3>
                <p>
                    自动提取当前网页的标题、URL 和文本内容，使用 AI 进行智能总结。
                    这个功能特别适合快速了解长文档的主要内容。
                </p>

                <div class="highlight-box">
                    <strong>💡 试试看：</strong> 现在就可以打开右下角的聊天窗口，
                    输入"总结这个页面"，AI 会自动分析并总结这篇文章的内容！
                </div>

                <h3>3.3 智能搜索</h3>
                <p>
                    在页面中快速查找信息，AI 会从完整内容中提取最相关的段落，
                    并提供详细的解答和位置提示。比传统的 Ctrl+F 更智能。
                </p>

                <h3>3.4 文本解释</h3>
                <p>
                    选中页面上的任意文字，会出现可点击的提示气泡。点击后 AI 会
                    结合上下文给出详细解释，支持中英文互译、专业术语解读等。
                </p>

                <p style="background: #f0f9ff; padding: 15px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                    <strong>试试选中这段话：</strong>
                    <span style="color: #0369a1;">IIFE（Immediately Invoked Function Expression）</span>
                    是一种 JavaScript 设计模式，它创建一个函数表达式并立即执行。
                    这种模式常用于创建独立的作用域，避免污染全局命名空间。
                </p>

                <h3>3.5 复制网页 HTML</h3>
                <p>
                    一键复制完整网页代码，包括所有的 HTML、CSS 和 JavaScript。
                    方便保存备份、学习源码或分享给他人。
                </p>

                <!-- 第四部分 -->
                <h2>四、使用场景</h2>

                <h3>4.1 企业官网</h3>
                <p>
                    在企业官网集成 AI 客服，提供 7×24 小时的智能问答服务。
                    解答产品咨询、业务流程、常见问题等，减轻人工客服压力。
                </p>

                <h3>4.2 在线文档</h3>
                <p>
                    为技术文档、产品手册添加智能助手，用户可以快速搜索内容、
                    解释术语、总结章节，大幅提升文档的易用性。
                </p>

                <h3>4.3 电商平台</h3>
                <p>
                    智能导购助手，帮助用户找到合适的商品、解答购物疑问、
                    对比产品特性，提升转化率。
                </p>

                <h3>4.4 在线教育</h3>
                <p>
                    学习助手，回答学生问题、解释难点、推荐学习资源，
                    提供个性化的学习辅导。
                </p>

                <!-- 第五部分 -->
                <h2>五、集成指南</h2>

                <h3>5.1 快速开始</h3>
                <p>只需两行代码即可集成：</p>

                <div class="code-box">
                    &lt;script src="popup.js"&gt;&lt;/script&gt;<br>
                    &lt;script&gt;<br>
                    &nbsp;&nbsp;PopupChatKit.init({<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;apiBase: 'http://localhost:8000/api'<br>
                    &nbsp;&nbsp;});<br>
                    &lt;/script&gt;
                </div>

                <h3>5.2 自定义配置</h3>
                <p>支持丰富的配置选项，满足不同场景需求：</p>
                <ol>
                    <li>按钮位置：支持四个角落任意位置</li>
                    <li>主题颜色：自定义品牌色</li>
                    <li>窗口尺寸：调整最大宽度和高度</li>
                    <li>层级控制：避免遮挡其他元素</li>
                </ol>

                <!-- 结论 -->
                <h2>六、总结与展望</h2>
                <p>
                    PopupChatKit 作为一个轻量级的 AI 聊天插件，证明了现代 Web 技术
                    的强大能力。通过纯原生 JavaScript 和流式 API，我们实现了媲美
                    重型框架的功能，同时保持了极致的性能和易用性。
                </p>

                <p>
                    未来，我们计划添加更多功能，如语音对话、多语言支持、自定义主题等。
                    我们相信，随着 AI 技术的不断发展，智能对话将成为网站的标准配置，
                    就像搜索框一样普及。
                </p>

                <div class="highlight-box">
                    <strong>🚀 立即体验：</strong> 点击右下角的聊天按钮，亲自体验这些功能！
                    你可以尝试总结本文、搜索特定信息、解释专业术语，或者复制网页代码。
                </div>
            </div>
        </div>

        <!-- 页脚 -->
        <div class="footer">
            <p>{{ footer.text }}</p>
            <p style="margin-top: 10px; font-size: 12px; color: #999;">
                由 Vue 3 驱动 | 集成 PopupChatKit AI 助手
            </p>
        </div>
    </div>

    <!-- 引入 PopupChatKit 插件 -->
    <script src="../frontend/embedded/popup.js"></script>

    <!-- Vue 应用 -->
    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    article: {
                        title: 'PopupChatKit：打造下一代智能网页对话体验',
                        date: '2025年10月28日',
                        author: 'AI 研发团队',
                        views: '1,234',
                        tags: ['人工智能', 'Web开发', '对话系统', 'JavaScript', 'Vue3'],
                        summary: '本文深入探讨了 AI 智能对话系统的技术原理和实践应用，详细介绍了 PopupChatKit 插件的架构设计、核心功能和使用方法。通过阅读本文，你将了解如何在任何网站中快速集成智能对话能力。'
                    },
                    footer: {
                        text: 'Made with ❤️ by PopupChatKit | © 2025 All Rights Reserved'
                    }
                };
            },
            mounted() {
                // 初始化 PopupChatKit
                PopupChatKit.init({
                    apiBase: 'http://localhost:8000/api',
                    position: 'bottom-right',
                    buttonColor: '#667eea'
                });

                console.log('Vue 应用已挂载，PopupChatKit 已初始化！');
            }
        }).mount('#app');
    </script>
</body>
</html>
